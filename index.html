<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Anonymous Voting System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>Anonymous Voting System</h2>

    <div id="create-poll-section">
        <h3>새 투표 만들기</h3>
        <form id="create-poll-form">
            <input type="text" id="poll-question" placeholder="질문 내용을 입력하세요.">

            <button type="submit">투표 만들기</button>
        </form>
    </div>
    
    <hr>

    <div id="polls" class="scroll-list_wrp">
        
    </div>

    <hr>

    <script type="module">
        import "./vote_form.js";
        import { initAuth, loadPoll } from "./pollData.js";

        // 페이지 로드 시 실행
        async function main() {
            try {
                await initAuth();
                await loadPoll();
            } catch (error) {
                console.log("인증 또는 앱 초기화 실패:", error);
                document.getElementById("polls").innerHTML = "오류: 앱을 초기화할 수 없습니다. 페이지를 새로고침 해주세요.";
            }
        }

        main();
    </script>
</body>
</html>